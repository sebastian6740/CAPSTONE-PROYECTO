<ion-content class="login-content">
  <!-- Cubos animados de fondo -->
  <div class="cube"></div>
  <div class="cube"></div>
  <div class="cube"></div>
  <div class="cube"></div>
  <div class="cube"></div>
  <div class="cube"></div>

  <!-- Logo y título -->
  <div class="logo-container">
    <img src="assets/img/trueques.png" alt="Logo de Trueques" class="logo-img">
    <h1>Trueque App</h1>
  </div>

  <p class="login-subtitle">Crea tu cuenta y comienza a intercambiar</p>
    <div class="container-formulario">
  <!-- Formulario -->
  <form [formGroup]="formularioRegistro" (ngSubmit)="registrarse()" class="registro-form">

  
    <!-- Nombre -->

      <ion-label position="" class="ion-label">Nombre completo</ion-label>
      <ion-item class="registro-item" lines="none">
        <ion-input 
          type="text" 
          formControlName="nombre"
          placeholder="Ej: Juan Pérez">
        </ion-input>
      </ion-item>
      <div class="error-message" *ngIf="formularioRegistro.get('nombre')?.invalid && formularioRegistro.get('nombre')?.touched">
        {{ obtenerErrorNombre() }}
      </div>
    

    <!-- Email -->
  
      <ion-label position ="">Email</ion-label>
      <ion-item class="login-item" lines="none">
        <ion-input 
          type="email" 
          formControlName="email"
          placeholder="ejemplo@correo.com">
        </ion-input>
      </ion-item>
      <div class="error-message" *ngIf="formularioRegistro.get('email')?.invalid && formularioRegistro.get('email')?.touched">
        {{ obtenerErrorEmail() }}
      </div>
  

    <!-- Teléfono -->
    
      <ion-label position="">Teléfono</ion-label>
      <ion-item class="login-item" lines="none">
        <ion-input 
          type="tel" 
          formControlName="telefono"
          placeholder="Ej: +56912345678">
        </ion-input>
      </ion-item>
      <div class="error-message" *ngIf="formularioRegistro.get('telefono')?.invalid && formularioRegistro.get('telefono')?.touched">
        {{ obtenerErrorTelefono() }}
      </div>
    

    <!-- Ciudad -->

      <ion-label position="">Ciudad</ion-label>
      <ion-item class="login-item" lines="none">
        <ion-select
          formControlName="ciudad"
          placeholder="Selecciona tu ciudad"
          interface="action-sheet"
          cancelText="Cancelar">
          <ion-select-option value="Santiago">Santiago</ion-select-option>
          <ion-select-option value="Valparaíso">Valparaíso</ion-select-option>
          <ion-select-option value="Viña del Mar">Viña del Mar</ion-select-option>
          <ion-select-option value="Concepción">Concepción</ion-select-option>
          <ion-select-option value="La Serena">La Serena</ion-select-option>
          <ion-select-option value="Antofagasta">Antofagasta</ion-select-option>
          <ion-select-option value="Temuco">Temuco</ion-select-option>
          <ion-select-option value="Rancagua">Rancagua</ion-select-option>
          <ion-select-option value="Talca">Talca</ion-select-option>
          <ion-select-option value="Arica">Arica</ion-select-option>
          <ion-select-option value="Chillán">Chillán</ion-select-option>
          <ion-select-option value="Iquique">Iquique</ion-select-option>
          <ion-select-option value="Los Ángeles">Los Ángeles</ion-select-option>
          <ion-select-option value="Puerto Montt">Puerto Montt</ion-select-option>
          <ion-select-option value="Coyhaique">Coyhaique</ion-select-option>
          <ion-select-option value="Punta Arenas">Punta Arenas</ion-select-option>
        </ion-select>
      </ion-item>
   

    <!-- Contraseña -->
 
      <ion-label position="">Contraseña</ion-label>
      <ion-item class="login-item" lines="none">
        <ion-input 
          [type]="mostrarContrasena ? 'text' : 'password'" 
          formControlName="contrasena"
          placeholder="Mínimo 6 caracteres">
        </ion-input>
        <ion-icon 
          slot="end" 
          [name]="mostrarContrasena ? 'eye' : 'eye-off'"
          (click)="toggleContrasena()"
          class="toggle-password-icon">
        </ion-icon>
      </ion-item>
      <div class="error-message" *ngIf="formularioRegistro.get('contrasena')?.invalid && formularioRegistro.get('contrasena')?.touched">
        {{ obtenerErrorContrasena() }}
      </div>
 

    <!-- Confirmar Contraseña -->
   
      <ion-label position="">Confirmar Contraseña</ion-label>
      <ion-item class="login-item" lines="none">
        <ion-input 
          [type]="mostrarConfirmarContrasena ? 'text' : 'password'" 
          formControlName="confirmarContrasena"
          placeholder="Repite tu contraseña">
        </ion-input>
        <ion-icon 
          slot="end" 
          [name]="mostrarConfirmarContrasena ? 'eye' : 'eye-off'"
          (click)="toggleConfirmarContrasena()"
          class="toggle-password-icon">
        </ion-icon>
      </ion-item>
      <div class="error-message" *ngIf="formularioRegistro.get('confirmarContrasena')?.invalid && formularioRegistro.get('confirmarContrasena')?.touched">
        Las contraseñas no coinciden
      </div>
   

    <!-- Términos y condiciones -->

      <ion-item lines="none" class=" terminos-item">
        <ion-checkbox slot="start" formControlName="terminos"></ion-checkbox>
        <ion-label>Acepto términos y condiciones</ion-label>
      </ion-item>
      <div class="error-message" *ngIf="formularioRegistro.get('terminos')?.invalid && formularioRegistro.get('terminos')?.touched">
        Debes aceptar los términos y condiciones
      </div>
 

    <!-- Botón Registrar -->
    <ion-button 
      expand="block" 
      type="submit"
      [disabled]="cargando || formularioRegistro.invalid"
      class="login-btn ion-margin-top ion-margin-bottom">
      <ion-spinner *ngIf="cargando" name="crescent"></ion-spinner>
      {{ cargando ? 'Registrando...' : 'Crear Cuenta' }}
    </ion-button>

    <!-- Link al Login -->
    <div class="registro-link">
      <p>¿Ya tienes cuenta? 
        <ion-text  (click)="irAlLogin()">
    
          Inicia sesión aquí
        </ion-text>
      </p>
    </div>
  </form>
  </div>
</ion-content>
